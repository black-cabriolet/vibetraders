self.addEventListener("push",i=>{let n=i.data.json();i.waitUntil(self.registration.showNotification(n.title,{body:n.body,icon:"/icons/android-chrome-192x192.png",data:{url:n.url||"/"}}))}),self.addEventListener("notificationclick",i=>{var n;i.notification.close();let t=(null==(n=i.notification.data)?void 0:n.url)||"/";i.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(i=>{for(let n=0;n<i.length;n++){let e=i[n];if(e.url===new URL(t,self.location.origin).href&&"focus"in e)return e.focus()}if(self.clients.openWindow)return self.clients.openWindow(t)}))});